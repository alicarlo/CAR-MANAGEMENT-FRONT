<mat-dialog-content class="!p-0">
  <div class="p-[15px]" *ngIf="loadingModal">
    <div class="flex flex-col gap-4">
      <p class="text-foreground font-semibold">Gastos</p>

      <div class="mx-[25px]">
        <label for="sexo" class="text-foreground text-[12px] font-medium">Información del Auto:</label>
        <div class="border border-border/60 rounded-lg bg-card p-2 flex gap-2">
          <p class="text-foreground text-[11px]"><strong>Clave:</strong> {{ data.row.key }}</p>
          <p class="text-foreground text-[11px]"><strong>Modelo:</strong> {{ data.row.model }}</p>
          <p class="text-foreground text-[11px]"><strong>Marca:</strong> {{ data.row.make }}</p>
        </div>
      </div>
      
      <!-- CONTENEDOR CON SCROLL -->
      <div
        class="border border-border/60 rounded-lg bg-card m-[25px]
               max-h-[310px] overflow-y-auto overflow-x-auto"
      >
        <!-- Wrapper para forzar ancho mínimo de tabla -->
        <div class="">
          <table class="w-full table-auto">
            <!-- Header -->
            <thead>
              <tr class="bg-muted/20 text-foreground/70 text-[11px] uppercase tracking-wide">
                <th class="px-3 py-2 text-left whitespace-nowrap">Fecha</th>
                <th class="px-3 py-2 text-left whitespace-nowrap">Concepto</th>
                <th class="px-3 py-2 text-left whitespace-nowrap">Total</th>
                <th class="px-3 py-2 text-left whitespace-nowrap">Estatus</th>
  
              </tr>
            </thead>

            <tbody class="divide-y divide-border/40" *ngIf="bills?.length">
              <tr
                *ngFor="let item of bills"
                class="text-foreground text-[12px] leading-tight hover:bg-background/60 transition"
              >
              
                <td class="px-3 py-2 align-middle whitespace-nowrap">
                  {{ item.created_at | date:'dd/MM/yyyy' }}
                </td>

                <td class="px-3 py-2 align-middle whitespace-nowrap">
                  {{ item.name }}
                </td>

                <td class="px-3 py-2 align-middle text-left">
                  {{ item.total | currency:'MXN':'symbol':'1.2-2':'en-US' }}
                </td>

                <td class="px-3 py-2 align-middle whitespace-nowrap">
                  <ng-container [ngSwitch]="item.status">
                    <span *ngSwitchCase="'active'"
                          class="inline-flex items-center rounded px-1.5 py-0.5 text-[11px] bg-green-500/10 text-green-600">
                      Activo
                    </span>
                    <span *ngSwitchCase="'inactive'"
                          class="inline-flex items-center rounded px-1.5 py-0.5 text-[11px] bg-rose-500/10 text-rose-600">
                      Inactivo
                    </span>
                    <span *ngSwitchDefault
                          class="inline-flex items-center rounded px-1.5 py-0.5 text-[11px] bg-muted/30 text-foreground/70">
                      —
                    </span>
                  </ng-container>
                </td>

              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="text-foreground text-[15px] w-full flex justify-center items-center" *ngIf="bills?.length === 0">
        No hay Gastos
      </div>
    </div>
  </div>

  <div *ngIf="!loadingModal" class="h-full flex justify-center items-center">
    <app-loading></app-loading>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <div class="flex gap-2 p-[20px]">
    <app-button mat-dialog-close full impact="bold" tone="primary" shape="rounded" size="medium">
      Cerrar
    </app-button>
  </div>
</mat-dialog-actions>
